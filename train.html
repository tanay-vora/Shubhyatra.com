<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Train Booking - Shubh Yatra</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
         /* Global Styles */
    body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background:url(assets/TRAIN.png) no-repeat center center fixed;
            background-size: cover;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            color: #333;
        }
        /* Navbar */
    .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(to bottom, white, rgba(255, 255, 255, 0));
            padding: 15px 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
    .navbar a {
      color: #000000;
      text-decoration: none;
      font-size: 18px;
      padding: 10px 15px;
    }
        header { background: transparent; color: #000000; padding: 15px; text-align: center; }
        .container { max-width: 900px; margin: 20px auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(255, 255, 255, 0.1); flex: 1; }
        
        /* Navbar */
        .navbar a:hover { background: transparent; border-radius: 5px; }
        .logo {
            display: flex;
            align-items: center;
            color: #000000;
            font-size: 20px;
            font-weight: bold;
        }
        .logo img {
            height: 40px;
            margin-right: 10px;
        }
        .nav-links {
            display: flex;
            gap: 20px;
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .nav-links li {
            display: inline;
        }
        .nav-links a {
            color: #000000;
            text-decoration: none;
            font-size: 16px;
            padding: 10px;
        }
        .nav-links a:hover {
            background: #006df3
            border-radius: 5px;
        }

        /* Train Search */
        .train-search { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
        .train-search input, .train-search select, .train-search button {
            padding: 10px; font-size: 16px; border-radius: 5px; border: 1px solid #000000; 
        }
        .train-search button { background: #007bff; color: #fff; border: none; cursor: pointer; }
        .train-search button:hover { background: #000000; color: #fff;}

        /* Train Cards */
        .train-list { margin-top: 20px; display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .train-card {
            background: #ffffff; padding: 15px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); text-align: left;
        }
        .train-card img { width: 100%; border-radius: 5px; height: 150px; object-fit: cover; }
        .train-card h3 { margin: 10px 0; }
        .train-card .details { font-size: 14px; color: #000000; }
        .train-card button {
            width: 100%; padding: 10px; margin-top: 10px; background: #007bff; color: #fff; border: none; border-radius: 5px; cursor: pointer;
        }
        .train-card button:hover { background: black; color: white; }

        /* Footer */
        footer { background: #262424; color: #EFDFBB; padding: 20px 0; text-align: center; margin-top: auto; }
        .footer-container { display: flex; justify-content: center; gap: 40px; flex-wrap: wrap; }
        .footer-section { text-align: left; }
        .footer-section h3 { margin-bottom: 10px; }
        .footer-section a { display: block; color: #EFDFBB; text-decoration: none; margin-bottom: 5px; }
        .footer-section a:hover { text-decoration: underline; }
        .social-icons img { width: 24px; height: 24px; margin: 0 5px; }
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar">
    <div class="logo">
        <a href="new.html">
        <img src="assets/Logo.png" alt="Subhyatara Yatra logo">

    </div>
</div>

</ul>
<ul class="nav-links">
    <li><a href="about.html">about us</a></li>
    <li><a href="contact.html">contact us</a></li>
</ul>
</nav>

    </nav>
    

<header>
    <h1>Find Your Perfect Train ðŸš†</h1>
</header>

<div class="container">
    <!-- Train Search Form -->
    <div class="train-search">
        <input type="text" id="departureStation" placeholder="From (Station)">
        <input type="text" id="destinationStation" placeholder="To (Station)">
        <input type="date" id="departDate">
        <select id="passengers">
            <option>1 Passenger</option>
            <option>2 Passengers</option>
            <option>3 Passengers</option>
        </select>
        <select id="classType">
            <option>Economy</option>
            <option>First Class</option>
        </select>
        <button onclick="searchTrains()">Search Trains</button>
    </div>

    <!-- Train Results -->
    <div class="train-list" id="trainsContainer"></div>
</div>

<footer>
    <div class="footer-container">
        <div class="footer-section">
            <h3>Company</h3>
            <a href="about.html">About Us</a>
            <a href="contact.html">Contact</a>
            <a href="careers.html">Careers</a>
        </div>
        <div class="footer-section">
            <h3>Support</h3>
            <a href="faq.html">FAQs</a>
            <a href="help.html">Help Center</a>
            <a href="terms.html">Terms of Service</a>
        </div>
        <div class="footer-section">
            <h3>Follow Us</h3>
            <div class="social-icons">
                <a href="#"><img src="assets/facebook.png" alt="Facebook"></a>
                <a href="#"><img src="assets/twitter.png" alt="Twitter"></a>
                <a href="#"><img src="assets/instagram.png" alt="Instagram"></a>
            </div>
        </div>
    </div>
    <p>&copy; 2025 Subhyatara.com | Your Travel Partner</p>
</footer>

<script>
    async function searchTrains() {
        const departureStation = document.getElementById('departureStation').value;
        const destinationStation = document.getElementById('destinationStation').value;
        const departDate = document.getElementById('departDate').value;
        const passengers = document.getElementById('passengers').value;
        const classType = document.getElementById('classType').value;
    
    
        try {
            const response = await fetch(`http://127.0.0.1:8000/search-trains/${departureStation}/${destinationStation}`);
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            const trains = await response.json();
            displayTrains(trains);
        } catch (error) {
            console.error('Error fetching trains:', error);
        }
    }
    
    function displayTrains(trains) {
        const container = document.getElementById('trainsContainer');
        container.innerHTML = '';
    
        if (trains.length === 0) {
            container.innerHTML = '<p>No trains found. Try a different search.</p>';
            return;
        }
    
        trains.forEach(train => {
            const trainCard = document.createElement('div');
            trainCard.className = 'train-card';
            trainCard.innerHTML = `
                <h3>${train.data_train_name} (${train.data__train_number})</h3>
                <p><strong>From:</strong> ${train.src} - <strong>To:</strong> ${train.dstn}</p>
                <p><strong>Departure:</strong> ${train.data__from_sta}</p>
                <p><strong>Arrival:</strong> ${train.data__from_std}</p>
                <p><strong>Duration:</strong> ${train.data__duration}</p>
                <button onclick="bookTrain('${train.data__train_number}')">Book Now</button>
            `;
            container.appendChild(trainCard);
        });
    }
    
    function bookTrain(trainNumber) {
        alert(`Booking train number: ${trainNumber}`);
    }
    </script>
    

</body>
</html>
